# Правила обміну
1. Система має прочитати певну кількість повідомлень з сервісу і зберегти їх локально (видаляючи з сервісу збережені) для подальшої обробки. 

2. Аналіз повідомлень 
    - всі повідомлення мають заповнений messageHeader в форматі JSON
      - обєкт (має також заповнений message)
      ```json
        "id":"id обэкта в системі клієнта (по даному id система має вміти повертати цей сами обєкт)",
        "type":"тип обэкта по якому система клієнта однозначно визначить обєкт "
      ```
      - запит (message пустий)
      ```json
        "query":{
          "id":"id обэкта в системі клієнта (по даному id система має вміти повертати цей сами обєкт)",
          "type":"тип обэкта по якому система клієнта однозначно визначить обєкт "
        }
      ```
      - запит за день (message пустий)
      ```json
        "query":{
          "day":"дата (при обробці потрібно взяти документи на початок-кінець дня)",
          "type":"тип обэкта по якому потрібно отримати запит "
        }
      ```
    - при упішній обробці обєкта, запис видалити з черги. 
    - при упішній обробці запита результат ставити в чергу до відправлення (локально), запис видалити з черги. 
    - при неуспішній записати в додаткове поле повідомлення причину (можна відправити повідомлення про помилку ) 
          
3. Відповідь на запити:
    - рекомендується локально зберігати відповіді на запити а потім відправити всі підготовлені відповідію
    - при помилці запита можна відправити опис помилки
    ```json
        "error":{
          message:"опис помилки",
        ... додаткові поля які дозволяють відправнику ідентифікувати або запит або обєкт
        }
        
    ```

4. Відравка обєкта
 messageHeader обовязково має бути заповнений в форматі описаному в пункті 2.

